<html>
	<html>
<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta charset="utf-8">
		<link rel="stylesheet" type="text/css" href="https://static.staticsave.com/cssstyles/style.css">
	</head>
  
<body>

  <div class="outer" id="content">
    
<h3 class="header">Complete the text with the Past Simple, the Past Perfect Simple or the Past Perfect Progressive of the verbs in brackets. </h3>
    
    <div class="inner">
  <form id="beTestForm" class="text">



My wife and I 
(1) <input type="text" id="q1" name="q1"> (think) of buying a new house for quite some time. We 
(2) <input type="text" id="q2" name="q2"> (look) for months when we finally 
(3) <input type="text" id="q3" name="q3"> (come) across a house at an incredibly low price. When we asked the estate agent why the price was so low, he told us that it was because the house was haunted! My wife and I 
(4) <input type="text" id="q4" name="q4">  (not believe) in ghosts so we bought the house. However, from the moment we moved in, the ghost let his presence be known.<br>We could hear strange noises in the hallway and footsteps going up and down the stairs. We 
(5) <input type="text" id="q5" name="q5"> (think) it was all very strange so we 
(6) <input type="text" id="q6" name="q6"> (call) a friend who knew how to communicate with spirits. After he 
(7) <input type="text" id="q7" name="q7">  (talk) with the ghost, our friend
(8) <input type="text" id="q8" name="q8"> (tell) us that there was nothing to fear. The ghost 
(9) <input type="text" id="q9" name="q9">  (live) in the house all his life and simply 
(10) <input type="text" id="q10" name="q10"> (want) to continue to care for that house. <br>One night, my wife and I went out for dinner and it 
(11) <input type="text" id="q11" name="q11">  (start) raining. We 
(12) <input type="text" id="q12" name="q12"> (remember) that we 
(13) <input type="text" id="q13" name="q13"> (leave) all the windows open as it was a beautiful warm evening. However, when we 
(14) <input type="text" id="q14" name="q14"> (return), the windows were all closed and locked. There wasn't a drop of rain in the house! My wife and I 
(15) <input type="text" id="q15" name="q15">  (decide) that we simply had to accept the fact that we would be sharing our house with a caring ghost!

</form>
      
    <div style="display: flex; justify-content: center; align-items: center;">
    <button type="button" id="submitBtn" class="button-30">Check</button>
</div>

<div id="results" style="display: none; justify-content: center; align-items: center;">
    <h2 class="header">Results</h2>
    <div id="score" class="inner" style="padding: 10px; text-align: center"></div>
  
    <div style="display: flex; justify-content: center; align-items: center;">
        <button type="button" id="redoBtn">Try again</button>
    </div>
</div>
	<script>
			const correctAnswers = [
  ["had been thinking"], ["had been looking"], ["came"], ["did not believe"], ["thought"], ["called"], ["had talked", "talked"], ["told"], ["had lived"], ["wanted"], ["started"], ["remembered"], ["left", "had left"], ["returned"], ["decided"]                             
      ];

const form = document.getElementById("beTestForm");
const submitBtn = document.getElementById("submitBtn");
const redoBtn = document.getElementById("redoBtn");
const resultsDiv = document.getElementById("results");
const scoreDiv = document.getElementById("score");

submitBtn.addEventListener("click", () => {
    const userAnswers = [];
    let score = 0;

    for (let i = 0; i < correctAnswers.length; i++) {
        const userAnswer = document.getElementById(`q${i + 1}`).value.trim().toLowerCase().replace(/\s+/g, '');
        const correctAnswerArray = correctAnswers[i].map(answer => answer.toLowerCase().replace(/\s+/g, ''));

        userAnswers.push(userAnswer);
        const input = document.getElementById(`q${i + 1}`);

        if (correctAnswerArray.includes(userAnswer)) { // Check if user's answer is in the correct answers array
            score++;
            input.classList.remove("incorrect");
            input.classList.add("correct");
        } else {
            input.classList.remove("correct");
            input.classList.add("incorrect");
        }
    }

    displayResults(userAnswers, score);
});

        redoBtn.addEventListener("click", () => {
            form.reset();
            resultsDiv.style.display = "none";
            submitBtn.disabled = false;
            
            const inputs = document.querySelectorAll("input[type='text']");
            inputs.forEach(input => {
                input.classList.remove("correct", "incorrect");
            });

            const questionDivs = document.querySelectorAll(".question label");
            questionDivs.forEach(label => {
                label.innerHTML = label.textContent.split(" Your")[0];
            });
        });

        function displayResults(userAnswers, score) {
            resultsDiv.style.display = "block";
            scoreDiv.innerHTML = `You scored ${score} out of ${correctAnswers.length}.`;

            const questionDivs = document.querySelectorAll(".question");

            for (let i = 0; i < questionDivs.length; i++) {
                const label = questionDivs[i].querySelector("label");
                const userAnswer = userAnswers[i] || "(no answer)";
                      }

            submitBtn.disabled = true;
        }
    </script>
	
	</form>
	</div>
	</body>